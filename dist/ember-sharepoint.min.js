/*! ember-sharepoint - v0.0.0 - 2013-07-13
* Copyright (c) 2013 ; Licensed  */
!function(a){var b=Ember.get;a.Ember.SPListAdapter=Ember.Adapter.extend({findAll:function(a,c){var d=SP.ClientContext.get_current(),e=d.get_web();d.load(e);var f=e.get_lists();d.load(f);var g=f.getByTitle(b(a,"listTitle"));d.load(g);var h=new SP.CamlQuery;h.set_viewXml("");var i=g.getItems(h);d.load(i);var j=new Ember.RSVP.Promise(function(b,e){d.executeQueryAsync(function(){console.log("success");for(var d=[],e=i.getEnumerator();e.moveNext();){var f=e.get_current();d.push(f.get_fieldValues())}c.load(a,d),b(d)},function(a,b){console.error(b.get_message()),e(b)})});return j}})}(window);